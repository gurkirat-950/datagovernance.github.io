'\x75\x73\x65\x20\x73\x74\x72\x69\x63\x74';app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x43\x6f\x75\x72\x73\x65\x47\x65\x74\x43\x6f\x6e\x74\x65\x6e\x74\x53\x74\x61\x74\x75\x73',function(e){Ajax.addReply('\x63\x6f\x6e\x74\x65\x6e\x74\x5f\x73\x74\x61\x74\x75\x73',app_generalCourseGetContentStatus(content,contentUser))}),app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x43\x6f\x75\x72\x73\x65\x41\x6e\x73\x77\x65\x72\x49\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x55\x6e\x69\x74\x42\x6c\x6f\x63\x6b',function(e){var t=e.unitblock,n=JSON.parse(e.answer),r=e.answershash,i=InformationUnitBlock_Internal.createByID(t),s=new InformationUnit_Internal(i.getInformationUnitID()),o,u;if(i instanceof InformationUnitBlockQuestion_Internal){o=i.getAnswerUsingAnswersHash(n,r);if(o==null)return;u=i.isCorrectAnswer(o)}else o=null,u=!0;var a={campaign:content.getCampaignID(),information_unit:s.getID(),shown:!0},f={campaign:content.getCampaignID(),information_unit:s.getID(),information_unit_block:i.getID(),answer:o,resolved:u};InternalAPI.processGameLogRequest(a,null,f),contentUser.reload(),Ajax.addReply('\x63\x6f\x72\x72\x65\x63\x74',u),Ajax.addReply('\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x5f\x75\x6e\x69\x74\x5f\x62\x6c\x6f\x63\x6b',i.getBlockForJS(contentUser,null,r))}),app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x43\x6f\x75\x72\x73\x65\x47\x65\x74\x52\x65\x73\x65\x74\x49\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x55\x6e\x69\x74\x42\x6c\x6f\x63\x6b',function(e){var t=e.unitblock,n=InformationUnitBlock_Internal.createByID(t);Ajax.addReply('\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x5f\x75\x6e\x69\x74\x5f\x62\x6c\x6f\x63\x6b',n.getBlockForJS())}),app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x43\x6f\x75\x72\x73\x65\x52\x65\x73\x6f\x6c\x76\x65\x49\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x55\x6e\x69\x74',function(e){var t=e.unit,n=new InformationUnit_Internal(t),r=!contentUser.hasUnitUnansweredImportantBlocks(n.getID());if(r){var i={campaign:content.getCampaignID(),information_unit:n.getID(),resolved:!0};InternalAPI.processGameLogRequest(i),contentUser.reload()}Ajax.addReply('\x72\x65\x73\x6f\x6c\x76\x65\x64',r)}),app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x43\x6f\x75\x72\x73\x65\x47\x65\x74\x42\x61\x74\x63\x68\x45\x6e\x64\x53\x74\x61\x74\x75\x73',function(e){var t=content.getCampaign(),n=t.getCampaignUser(contentUser.getUserID()),r=null,i=content.getBatches(!1);for(var s=0;s<i.length;s++){var o=i[s];if(o.getNumber()==contentUser.getResolvedBatchNumber()){r=o.getID();break}}var u=!1,a=contentUser.isResolved(),f=n.getUnresolvedAssignedTasks(),l=null;if(f.length>0){var c=f[0],h=c.getContentUser(contentUser.getUserID());l={id:c.getID(),name:c.getCampaignName(),description:c.getCampaignSurtitle(),date:null,schedule_data:null};if(c.getID()==content.getID()){var p=h.getResolvedBatchNumber()+1;l.description=Translation.getTranslationInLanguage(content.getLanguage(),'\x61\x70\x70\x5f\x67\x65\x6e\x65\x72\x61\x6c\x5f\x63\x6f\x75\x72\x73\x65\x5f\x62\x61\x74\x63\x68\x5f\x65\x6e\x64\x5f\x73\x74\x61\x74\x75\x73\x5f\x70\x6f\x70\x75\x70\x5f\x6e\x65\x78\x74\x5f\x63\x6f\x6e\x74\x65\x6e\x74\x5f\x63\x6f\x75\x72\x73\x65\x5f\x64\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e',{number:p,count:c.getBatchesCount()}),l.day_number=null,l.day_name=null,l.date=null}}Ajax.addReply('\x72\x65\x73\x6f\x6c\x76\x65\x64\x5f\x62\x61\x74\x63\x68\x5f\x69\x64',r),Ajax.addReply('\x72\x65\x73\x6f\x6c\x76\x65\x64\x5f\x64\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e',Translation.getTranslationInLanguage(content.getLanguage(),'\x61\x70\x70\x5f\x67\x65\x6e\x65\x72\x61\x6c\x5f\x63\x6f\x75\x72\x73\x65\x5f\x62\x61\x74\x63\x68\x5f\x65\x6e\x64\x5f\x73\x74\x61\x74\x75\x73\x5f\x70\x6f\x70\x75\x70\x5f\x62\x61\x74\x63\x68\x5f\x72\x65\x73\x6f\x6c\x76\x65\x64\x5f\x64\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e',{number:contentUser.getResolvedBatchNumber(),count:content.getBatchesCount()})),Ajax.addReply('\x6e\x65\x65\x64\x73\x5f\x72\x61\x74\x69\x6e\x67',u),Ajax.addReply('\x66\x65\x65\x64\x62\x61\x63\x6b\x5f\x61\x6c\x6c\x6f\x77\x65\x64',a),Ajax.addReply('\x6e\x65\x78\x74\x5f\x63\x6f\x6e\x74\x65\x6e\x74',l)}),app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x43\x6f\x75\x72\x73\x65\x41\x73\x73\x69\x67\x6e\x4e\x65\x78\x74\x42\x61\x74\x63\x68',function(e){var t=InternalAPI.assignNextBatch(content);Ajax.addReply('\x6e\x65\x78\x74\x5f\x62\x61\x74\x63\x68\x5f\x61\x73\x73\x69\x67\x6e\x65\x64',t)}),app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x49\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x55\x6e\x69\x74\x4c\x6f\x67\x56\x69\x64\x65\x6f\x54\x69\x6d\x65',function(e){var t=e.videounitblock,n=e.timeseconds,r=InformationUnitBlock_Internal.createByID(t),i=new InformationUnit_Internal(r.getInformationUnitID()),s=(new Database).select('\x75\x5f\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x5f\x75\x6e\x69\x74\x5f\x6c\x6f\x67').whereEq('\x63\x61\x6d\x70\x61\x69\x67\x6e',content.getCampaignID()).whereEq('\x75\x73\x65\x72',userID).whereEq('\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x5f\x75\x6e\x69\x74',i.getID()).whereEq('\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x5f\x75\x6e\x69\x74\x5f\x62\x6c\x6f\x63\x6b',r.getID()).fetch(),o={campaign:content.getCampaignID(),user:userID,information_unit:i.getID(),information_unit_block:r.getID(),answer:JSON.stringify(n)};s!=0?(new Database).update('\x75\x5f\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x5f\x75\x6e\x69\x74\x5f\x6c\x6f\x67').set(o).whereEq('\x69\x64',s.id).process():(new Database).insert('\x75\x5f\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x5f\x75\x6e\x69\x74\x5f\x6c\x6f\x67').set(o).process(),contentUser.reload()}),app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x49\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x55\x6e\x69\x74\x54\x6f\x67\x67\x6c\x65\x43\x68\x65\x63\x6b\x6c\x69\x73\x74\x49\x74\x65\x6d',function(e){var t=e.checklistunitblock,n=e.itemunitblock,r=e['\x63\x68\x65\x63\x6b\x65\x64']==1;contentUser.toggleChecklistItem(t,n,r)}),app_addExportAjaxRequestHandler('\x67\x65\x6e\x65\x72\x61\x6c\x49\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e\x55\x6e\x69\x74\x52\x65\x73\x6f\x6c\x76\x65\x43\x68\x65\x63\x6b\x6c\x69\x73\x74',function(e){var t=e.unitblock;contentUser.resolveChecklist(t)}),content.isCourseTypeReference()&&(InternalAPI.processContentStart(content,contentUser),contentUser.markAsResolved());var ajaxQueryStringParameters=common_getAjaxQueryStringParameters(),appGeneralCourseURL=null,appGeneralCourseContentBatches=[],appGeneralCourseContentInformationUnits=[],appGeneralCourseContentFirstInformationUnitToShow=ajaxQueryStringParameters.unit||null,appGeneralCourseContentStatus=app_generalCourseGetContentStatus(content,contentUser),contentBatches=content.getBatches(!0),contentBatchHidden=contentBatches[0];contentBatches.splice(0,1),contentBatches.push(contentBatchHidden);for(var i=0;i<contentBatches.length;i++){var contentBatch=contentBatches[i],contentBatchInformationUnitIDs=[],contentBatchInformationUnits=contentBatch.getInformationUnits();for(var a=0;a<contentBatchInformationUnits.length;a++){var contentInformationUnit=contentBatchInformationUnits[a];contentBatchInformationUnitIDs.push(contentInformationUnit.getID()),appGeneralCourseContentInformationUnits.push(contentInformationUnit.getUnitForJS(contentUser))}appGeneralCourseContentBatches.push({name:contentBatch.isHidden()?null:contentBatch.getName(),number:contentBatch.getNumber(),units:contentBatchInformationUnitIDs})}